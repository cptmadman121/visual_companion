<Window x:Class="TrayVisionPrompt.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Einstellungen"
        Width="460"
        Height="640"
        WindowStartupLocation="CenterOwner">
  <ScrollViewer>
    <StackPanel Margin="12" Orientation="Vertical">
      <TextBlock Text="Prompt-Vorlagen" FontWeight="Bold" />
      <ListBox x:Name="PromptList"
               Margin="0,6,0,0"
               Height="140"
               DisplayMemberPath="Name"
               SelectionChanged="OnPromptSelectionChanged" />
      <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,6,0,0">
        <Button Content="Neu" Width="90" Margin="4,0" Click="OnAddPrompt" />
        <Button Content="LÃ¶schen" Width="90" Margin="4,0" Click="OnRemovePrompt" />
      </StackPanel>

      <TextBlock Text="Name" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="PromptNameBox" TextChanged="PromptNameBox_OnTextChanged" />

      <TextBlock Text="Hotkey" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="PromptHotkeyBox" TextChanged="PromptHotkeyBox_OnTextChanged" />

      <TextBlock Text="Aktivierung" FontWeight="Bold" Margin="0,12,0,0" />
      <ComboBox x:Name="PromptActivationBox" SelectionChanged="PromptActivationBox_OnSelectionChanged" />

      <TextBlock Text="Prompt" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="PromptTextBox" AcceptsReturn="True" TextWrapping="Wrap" Height="120" TextChanged="PromptTextBox_OnTextChanged" />

      <TextBlock Text="Dialog-Text (nur Textdialog)" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="PromptPrefillBox" AcceptsReturn="True" TextWrapping="Wrap" Height="80" TextChanged="PromptPrefillBox_OnTextChanged" />

      <Separator Margin="0,18,0,12" />

      <TextBlock Text="Backend" FontWeight="Bold" />
      <ComboBox x:Name="BackendCombo">
        <ComboBoxItem Content="ollama" />
        <ComboBoxItem Content="vllm" />
        <ComboBoxItem Content="llamacpp" />
      </ComboBox>

      <TextBlock Text="Endpoint" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="EndpointBox" />

      <TextBlock Text="Modell" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="ModelBox" />

      <TextBlock Text="Timeout (ms)" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="TimeoutBox" />

      <TextBlock Text="Max Tokens" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="MaxTokensBox" />

      <TextBlock Text="Temperatur" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="TemperatureBox" />

      <CheckBox x:Name="VisionCheck" Content="Vision verwenden" Margin="0,12,0,0" />
      <CheckBox x:Name="OcrCheck" Content="OCR-Fallback verwenden" />

      <TextBlock Text="Proxy" FontWeight="Bold" Margin="0,12,0,0" />
      <TextBox x:Name="ProxyBox" />

      <TextBlock Text="Log-Level" FontWeight="Bold" Margin="0,12,0,0" />
      <ComboBox x:Name="LogLevelCombo">
        <ComboBoxItem Content="Trace" />
        <ComboBoxItem Content="Debug" />
        <ComboBoxItem Content="Info" />
        <ComboBoxItem Content="Warning" />
        <ComboBoxItem Content="Error" />
      </ComboBox>

      <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,18,0,0">
        <Button Content="Speichern" Width="120" Margin="6" Click="OnSave" />
        <Button Content="Abbrechen" Width="120" Margin="6" Click="OnCancel" />
      </StackPanel>
    </StackPanel>
  </ScrollViewer>
</Window>
